<% if namespaced? -%>
require_dependency "<%= namespaced_file_path %>/application_controller"

<% end -%>
<% module_namespacing do -%>

class <%= class_name.pluralize %>Controller < ApplicationController

  def index
    @<%= plural_file_name %> = <%= class_name %>.all
  end

  def new
    @new_<%= file_name %>_form = New<%= class_name %>Form.new
  end

  def create
    @new_<%= file_name %>_form = New<%= class_name %>Form.new(params[:new_<%= file_name %>_form])
    if @new_<%= file_name %>_form.submit
      return redirect_to <%= plural_file_name %>_path
    end

    render :new
  end

  def show
    @<%= file_name %> = <%= class_name %>.find(params[:id])
  end
end

<% end -%>